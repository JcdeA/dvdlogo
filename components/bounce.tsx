import { Component } from "react";
import * as React from "react";

interface DVDLogoState {
    x: number;
    y: number;
    xSpeed: number;
    ySpeed: number;
    r: number;
    g: number;
    b: number;
}

interface DVDLogoProps {
    width: number;
    height: number;
}

const MS_PER_FRAME = 5;
const widthDVDLogo = 322;
const heightDVDLogo = 70;

class DVDLogo extends Component<DVDLogoProps, DVDLogoState> {

    constructor(props: DVDLogoProps) {
        super(props);
        this.state = {
            x: DVDLogo.getRandomNumber(0, this.props.width - widthDVDLogo),
            y: DVDLogo.getRandomNumber(0, this.props.height - heightDVDLogo),
            xSpeed: 1,
            ySpeed: 1,
            r: DVDLogo.getRandomNumber(100, 256),
            g: DVDLogo.getRandomNumber(100, 256),
            b: DVDLogo.getRandomNumber(100, 256)


        }

    }

    setRandomColors() {
        this.setState({
            r: DVDLogo.getRandomNumber(100, 256),
            g: DVDLogo.getRandomNumber(100, 256),
            b: DVDLogo.getRandomNumber(100, 256)
        })
    }

    static getRandomNumber(min: number, max: number): number {
        return Math.random() * (max - min) + min;
    }

    componentDidMount() {
        setInterval(() => this.moveDVDLogo(), MS_PER_FRAME);
    }

    moveDVDLogo() {
        this.setState({
            x: this.state.x + this.state.xSpeed,
            y: this.state.y + this.state.ySpeed
        });

        if (this.state.x + widthDVDLogo >= this.props.width || this.state.x <= 0) {
            this.setState({ xSpeed: -this.state.xSpeed });
            this.setRandomColors();
        }

        if (this.state.y + heightDVDLogo >= this.props.height || this.state.y <= 0) {
            this.setState({ ySpeed: -this.state.ySpeed });
            this.setRandomColors();
        }
    }

    render() {
        const { r, g, b, x, y } = this.state;

        return <g>
            <g fill={`rgb(${r}, ${g}, ${b})`} transform={`translate(${x}, ${y})`}>

                <path d="M26.5 52.9375C25.0208 52.9375 24.0521 52.1458 23.5938 50.5625C23.1146 48.8542 22.6771 46.4271 22.2812 43.2812C21.9062 40.2604 21.7188 37.7812 21.7188 35.8438C21.7188 35.3021 21.7396 34.4792 21.7812 33.375C21.8438 32.2708 21.875 31.4479 21.875 30.9062C21.875 26.9896 20.8958 25.0312 18.9375 25.0312C16.2917 25.0312 13.9271 26.2292 11.8438 28.625C10.7812 29.8542 9.32292 32.1979 7.46875 35.6562C7.46875 43.5938 7.13542 48.2917 6.46875 49.75C5.88542 51.0417 4.97917 51.6875 3.75 51.6875C2.89583 51.6875 2.14583 51.3958 1.5 50.8125C0.854167 50.2292 0.53125 49.5208 0.53125 48.6875C0.53125 48.3958 0.625 47.9375 0.8125 47.3125C0.979167 46.7917 1.09375 45.2708 1.15625 42.75L1.25 38.125L1.34375 15.1562C1.48958 12.5729 1.5625 10.8333 1.5625 9.9375C1.5625 8.875 1.45833 7.875 1.25 6.9375C1.0625 5.97917 0.96875 4.98958 0.96875 3.96875C0.96875 3.09375 1.27083 2.375 1.875 1.8125C2.47917 1.22917 3.21875 0.9375 4.09375 0.9375C5.80208 0.9375 6.80208 1.85417 7.09375 3.6875C7.42708 5.70833 7.59375 7.53125 7.59375 9.15625C7.59375 11.3438 7.52083 13.625 7.375 16C7.25 18.2708 7.19792 20.5521 7.21875 22.8438L7.25 25.5938C8.95833 23.3021 10.7812 21.5938 12.7188 20.4688C14.6771 19.3229 16.75 18.75 18.9375 18.75C22.3958 18.75 24.7708 19.875 26.0625 22.125C26.9792 23.7083 27.5 26.375 27.625 30.125L27.875 36.0938L28.5 42.5938C28.7917 45.0312 29.1458 47.1771 29.5625 49.0312C29.6458 49.3854 29.6875 49.6875 29.6875 49.9375C29.6875 50.7917 29.375 51.5 28.75 52.0625C28.125 52.6458 27.375 52.9375 26.5 52.9375ZM61.75 53.0625C61.3542 53.0625 60.6354 52.6042 59.5938 51.6875C58.6562 50.8333 57.9583 50.0729 57.5 49.4062C55.5 50.4896 53.7396 51.3021 52.2188 51.8438C50.6979 52.4062 49.4271 52.6875 48.4062 52.6875C43.5312 52.6875 39.9792 51.3125 37.75 48.5625C35.6458 45.9792 34.5938 42.0208 34.5938 36.6875C34.5938 31.6458 36.3229 27.3333 39.7812 23.75C43.2604 20.1667 47.4062 18.375 52.2188 18.375C54.0312 18.375 56.0625 18.8438 58.3125 19.7812C61.1458 20.9479 62.5625 22.3542 62.5625 24C62.5625 24.5625 62.3542 25.0625 61.9375 25.5C61.7292 26.2917 61.5625 27.5938 61.4375 29.4062C61.3333 31.2188 61.2708 33.5417 61.25 36.375C61.2292 38.9583 61.4062 41 61.7812 42.5C61.9896 43.4167 62.6458 45.25 63.75 48C63.8958 48.375 64.1354 48.9271 64.4688 49.6562L64.6562 50.1875C64.6562 51.0208 64.3646 51.7083 63.7812 52.25C63.1979 52.7917 62.5208 53.0625 61.75 53.0625ZM55.25 31.3438C55.25 30.4479 55.3021 29.4792 55.4062 28.4375C55.5312 27.375 55.7083 26.25 55.9375 25.0625C55.1667 24.6667 54.5 24.375 53.9375 24.1875C53.3958 24 52.9583 23.9062 52.625 23.9062C49.3958 23.9062 46.6042 25.2292 44.25 27.875C41.9167 30.5 40.75 33.5312 40.75 36.9688C40.75 40.3854 41.3542 42.9479 42.5625 44.6562C43.7708 46.3646 45.5833 47.2188 48 47.2188C50 47.2188 51.6979 46.8542 53.0938 46.125C53.8438 45.7292 54.8958 44.9375 56.25 43.75C55.5833 38.2292 55.25 34.0938 55.25 31.3438ZM109.781 53.5938C108.073 53.5938 107.073 52.6875 106.781 50.875C106.406 48.5833 106.031 45.3542 105.656 41.1875L104.594 31.5C104.385 30.0625 104.031 28.6562 103.531 27.2812C102.823 25.4062 102.052 24.4688 101.219 24.4688C100.448 24.4688 99.0104 25.125 96.9062 26.4375C94.9062 27.6458 93.5938 28.6146 92.9688 29.3438C92.9479 31.3021 93 33.2604 93.125 35.2188L94.0625 43.5625C94.4583 46.8542 94.6562 49.5729 94.6562 51.7188C94.6562 52.6354 94.3646 53.3854 93.7812 53.9688C93.2188 54.5729 92.4896 54.875 91.5938 54.875C90.6979 54.875 89.9583 54.5729 89.375 53.9688C88.8125 53.3854 88.5312 52.6354 88.5312 51.7188C88.5312 49.1979 88.2708 45.4792 87.75 40.5625C87.25 35.625 87 31.8958 87 29.375C87 27.1667 86.6875 25.4479 86.0625 24.2188C84.6042 24.8854 83.125 25.9688 81.625 27.4688L77.9375 31.5938C77.6042 32.0938 77.0729 32.75 76.3438 33.5625C76.3438 34.8125 76.2292 36.6562 76 39.0938C75.7708 41.5312 75.6562 43.3333 75.6562 44.5C75.6562 45.125 75.75 46 75.9375 47.125C76.1458 48.25 76.25 49.0625 76.25 49.5625C76.25 50.4167 75.9271 51.1354 75.2812 51.7188C74.6562 52.3021 73.9167 52.5938 73.0625 52.5938C70.7083 52.5938 69.5312 49.9167 69.5312 44.5625C69.5312 43.3125 69.6458 41.4479 69.875 38.9688C70.1042 36.4896 70.2188 34.625 70.2188 33.375C70.2188 32.2708 70.1146 30.6146 69.9062 28.4062C69.7188 26.1979 69.625 24.5312 69.625 23.4062C69.625 18.6771 70.6875 16.3125 72.8125 16.3125C73.625 16.3125 74.3646 16.6667 75.0312 17.375C75.7188 18.0833 76.0625 18.8542 76.0625 19.6875C76.0625 20.0833 76.0104 20.6979 75.9062 21.5312C75.8021 22.3646 75.75 23 75.75 23.4375L75.8125 26.7188C76.8958 24.4896 78.4896 22.4792 80.5938 20.6875C82.6979 18.875 84.4896 17.9688 85.9688 17.9688C89.2396 17.9688 91.4896 19.5938 92.7188 22.8438C93.8646 21.3229 95.2292 20.1875 96.8125 19.4375C98.3958 18.6667 100.208 18.2812 102.25 18.2812C105.729 18.2812 108.104 20.1562 109.375 23.9062C109.625 24.6562 110.052 27.5833 110.656 32.6875C111.24 36.2708 111.99 42.2396 112.906 50.5938C112.969 51.4271 112.688 52.1354 112.062 52.7188C111.438 53.3021 110.677 53.5938 109.781 53.5938ZM159.531 53.5938C157.823 53.5938 156.823 52.6875 156.531 50.875C156.156 48.5833 155.781 45.3542 155.406 41.1875L154.344 31.5C154.135 30.0625 153.781 28.6562 153.281 27.2812C152.573 25.4062 151.802 24.4688 150.969 24.4688C150.198 24.4688 148.76 25.125 146.656 26.4375C144.656 27.6458 143.344 28.6146 142.719 29.3438C142.698 31.3021 142.75 33.2604 142.875 35.2188L143.812 43.5625C144.208 46.8542 144.406 49.5729 144.406 51.7188C144.406 52.6354 144.115 53.3854 143.531 53.9688C142.969 54.5729 142.24 54.875 141.344 54.875C140.448 54.875 139.708 54.5729 139.125 53.9688C138.562 53.3854 138.281 52.6354 138.281 51.7188C138.281 49.1979 138.021 45.4792 137.5 40.5625C137 35.625 136.75 31.8958 136.75 29.375C136.75 27.1667 136.438 25.4479 135.812 24.2188C134.354 24.8854 132.875 25.9688 131.375 27.4688L127.688 31.5938C127.354 32.0938 126.823 32.75 126.094 33.5625C126.094 34.8125 125.979 36.6562 125.75 39.0938C125.521 41.5312 125.406 43.3333 125.406 44.5C125.406 45.125 125.5 46 125.688 47.125C125.896 48.25 126 49.0625 126 49.5625C126 50.4167 125.677 51.1354 125.031 51.7188C124.406 52.3021 123.667 52.5938 122.812 52.5938C120.458 52.5938 119.281 49.9167 119.281 44.5625C119.281 43.3125 119.396 41.4479 119.625 38.9688C119.854 36.4896 119.969 34.625 119.969 33.375C119.969 32.2708 119.865 30.6146 119.656 28.4062C119.469 26.1979 119.375 24.5312 119.375 23.4062C119.375 18.6771 120.438 16.3125 122.562 16.3125C123.375 16.3125 124.115 16.6667 124.781 17.375C125.469 18.0833 125.812 18.8542 125.812 19.6875C125.812 20.0833 125.76 20.6979 125.656 21.5312C125.552 22.3646 125.5 23 125.5 23.4375L125.562 26.7188C126.646 24.4896 128.24 22.4792 130.344 20.6875C132.448 18.875 134.24 17.9688 135.719 17.9688C138.99 17.9688 141.24 19.5938 142.469 22.8438C143.615 21.3229 144.979 20.1875 146.562 19.4375C148.146 18.6667 149.958 18.2812 152 18.2812C155.479 18.2812 157.854 20.1562 159.125 23.9062C159.375 24.6562 159.802 27.5833 160.406 32.6875C160.99 36.2708 161.74 42.2396 162.656 50.5938C162.719 51.4271 162.438 52.1354 161.812 52.7188C161.188 53.3021 160.427 53.5938 159.531 53.5938ZM196.844 23.125L186.031 46.5C183.365 52.1875 181.323 56.9479 179.906 60.7812L177.844 66.8438C177.302 68.3438 176.365 69.0938 175.031 69.0938C174.156 69.0938 173.396 68.8021 172.75 68.2188C172.125 67.6562 171.812 66.9479 171.812 66.0938C171.812 64.0104 174.062 57.9792 178.562 48L167.375 26.4688L165.969 24.1875C165.406 23.2292 165.125 22.4271 165.125 21.7812C165.125 20.9271 165.448 20.1771 166.094 19.5312C166.76 18.8854 167.5 18.5625 168.312 18.5625C169.271 18.5625 170.01 18.9271 170.531 19.6562C174.073 24.5729 177.875 31.5729 181.938 40.6562L186.562 29.875C188.229 26.1458 189.833 22.9375 191.375 20.25C192.042 19.0833 192.917 18.5 194 18.5C194.854 18.5 195.604 18.8021 196.25 19.4062C196.917 20.0104 197.25 20.7292 197.25 21.5625C197.25 22.0208 197.115 22.5417 196.844 23.125ZM259.438 23.0312C257.812 29.8229 255.688 37.5 253.062 46.0625C252.479 47.9583 251.51 49.9062 250.156 51.9062C249.427 53.0104 248.438 53.5521 247.188 53.5312C244.917 53.4896 243.146 50.6667 241.875 45.0625C241.458 43.2708 241.031 40.8333 240.594 37.75L239.562 30.7812L237 36.75L232.25 49.6562C231.979 50.4479 231.583 51.0521 231.062 51.4688C230.438 52.6771 229.438 53.3021 228.062 53.3438C226.479 53.4062 224.948 50.3021 223.469 44.0312C222.719 40.8021 221.969 36.4271 221.219 30.9062L220.469 26.2188C220.198 24.3438 220.062 22.7708 220.062 21.5C220.062 20.625 220.365 19.9062 220.969 19.3438C221.594 18.7604 222.344 18.4688 223.219 18.4688C224.802 18.4688 225.781 19.3333 226.156 21.0625C226.427 22.2917 226.646 23.8125 226.812 25.625L227.281 30.2188L229.125 44.25C231.438 37.8333 233.833 30.4375 236.312 22.0625C237 19.75 238.198 18.5938 239.906 18.5938C241.552 18.5938 242.667 19.8854 243.25 22.4688C243.792 24.9062 244.469 28.6562 245.281 33.7188C246.115 38.9688 246.854 43.0625 247.5 46L249.781 37.5L253.812 20.4688C254.125 19.1979 255.021 18.5625 256.5 18.5625C257.375 18.5625 258.135 18.8646 258.781 19.4688C259.427 20.0521 259.75 20.7604 259.75 21.5938C259.75 21.6979 259.646 22.1771 259.438 23.0312ZM286.75 24.375C286.312 24.375 285.792 24.3542 285.188 24.3125C284.604 24.2708 284.094 24.25 283.656 24.25C283.177 24.25 281.76 24.4062 279.406 24.7188L280 43.1875L280.031 44.5625L280.062 46.1562C280.146 50.7188 279.052 53 276.781 53C275.948 53 275.219 52.7292 274.594 52.1875C273.99 51.6458 273.688 50.9688 273.688 50.1562C273.688 49.3646 273.719 48.1771 273.781 46.5938C273.844 45.0104 273.875 43.8229 273.875 43.0312L273.25 24.7812C271.729 24.7188 269.417 24.5417 266.312 24.25C264.458 24 263.531 22.9688 263.531 21.1562C263.531 20.2396 263.812 19.4792 264.375 18.875C264.938 18.2708 265.656 17.9688 266.531 17.9688L273.094 18.5C273.094 17.4375 273.042 16.0208 272.938 14.25C272.854 12.4583 272.812 11.1667 272.812 10.375C272.812 9.5 273.115 8.78125 273.719 8.21875C274.323 7.63542 275.062 7.34375 275.938 7.34375C277.812 7.34375 278.906 8.875 279.219 11.9375C279.281 12.7083 279.312 13.6354 279.312 14.7188L279.25 16.5312L279.219 18.4688C281.802 18.1354 283.281 17.9688 283.656 17.9688C285.823 17.9688 287.24 18.0729 287.906 18.2812C289.177 18.6979 289.812 19.6771 289.812 21.2188C289.812 22.1354 289.521 22.8958 288.938 23.5C288.375 24.0833 287.646 24.375 286.75 24.375ZM317.031 7.0625C311.99 7.0625 309.167 10.5625 308.562 17.5625L308.469 19.5C312.01 19.25 314.302 19.125 315.344 19.125C318.656 19.125 320.312 20.1667 320.312 22.25C320.312 23.7708 319.5 24.6771 317.875 24.9688C317.167 25.0938 316.333 25.1458 315.375 25.125C314.438 25.0833 312.042 25.2188 308.188 25.5312L307.938 32.6562C307.938 33.9479 307.979 35.8854 308.062 38.4688C308.146 41.0521 308.188 42.9792 308.188 44.25C308.188 48.2083 307.958 51.2917 307.5 53.5C307.146 55.1667 306.177 56 304.594 56C303.74 56 303.01 55.7188 302.406 55.1562C301.802 54.6146 301.5 53.9271 301.5 53.0938C301.5 52.9271 301.521 52.7188 301.562 52.4688C302 49.7604 302.219 46.8125 302.219 43.625L302.125 35.0938V26.0312C299.521 26.2396 297.875 26.3438 297.188 26.3438C295.083 26.3438 294.031 25.3333 294.031 23.3125C294.031 21.25 295.854 20.1667 299.5 20.0625L302.5 19.9688C302.562 18.8021 302.719 17.2188 302.969 15.2188C303.51 10.5938 304.677 7.1875 306.469 5C308.635 2.35417 312.021 1.03125 316.625 1.03125C319.604 1.03125 321.094 2.04167 321.094 4.0625C321.094 6.0625 319.74 7.0625 317.031 7.0625Z" />



            </g>
        </g>

    }
}

export default DVDLogo;